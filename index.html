<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数字記憶テスト（順唱）</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="root">
    <section id="screen-intro" class="screen">
      <h1>数字記憶テスト（順唱）</h1>
      <p class="lead">これから日本語の音声で数字が流れます。画面の指示に従ってください。</p>
      <div class="card soft">
        <h2>説明</h2>
        <ul>
          <li>数字の順番を覚えてください。</li>
          <li>音声が終わってビープが鳴ったら、数字を順番にキーボードで入力してください。</li>
          <li>順番が完全に合っている場合のみ正答になります。</li>
          <li>画面が変わるまで入力しないでください。</li>
          <li>メモなどを取らないでください。</li>
        </ul>
      </div>
      <div class="card">
        <label for="participant-id">参加者ID</label>
        <input id="participant-id" type="text" placeholder="IDを入力">
        <div class="actions">
          <button id="intro-start" class="primary" disabled>練習に進む</button>
        </div>
      </div>
    </section>

    <section id="screen-practice" class="screen hidden">
      <div class="card soft">
        <p class="eyebrow">練習（3桁×3本）</p>
        <p>ビープのあとに数字の音声が流れます。音声が終わってビープが鳴ったらすぐに入力してください。</p>
        <p class="hint">練習で使う数字列：<span id="practice-list"></span></p>
        <div class="actions">
          <button id="practice-start" class="primary">練習を開始</button>
          <button id="skip-practice" class="ghost">練習をスキップ</button>
        </div>
      </div>
      <div class="card">
        <p id="practice-status" class="status-line">待機中</p>
        <div class="input-row">
          <input id="practice-input" type="text" autocomplete="off" inputmode="numeric" pattern="[0-9]*" placeholder="数字を入力" disabled>
          <button id="practice-submit" class="primary" disabled>送信 (Enter)</button>
        </div>
      </div>
    </section>

    <section id="screen-main" class="screen hidden">
      <div class="card soft">
        <p class="eyebrow">本試行（3〜9桁 各3本）</p>
        <p id="main-status" class="status-line">待機中</p>
      </div>
      <div class="card">
        <p class="hint">ビープ後に入力（Enterで送信）</p>
        <div class="input-row">
          <input id="main-input" type="text" autocomplete="off" inputmode="numeric" pattern="[0-9]*" placeholder="数字を入力" disabled>
          <button id="main-submit" class="primary" disabled>送信 (Enter)</button>
        </div>
        <div class="meta" aria-hidden="true"></div>
      </div>
    </section>

    <section id="screen-done" class="screen hidden">
      <div class="card soft">
        <h2>終了しました</h2>
        <p>ご協力ありがとうございました。</p>
        <div class="actions">
          <button id="download-results" class="primary" disabled>結果をCSVで保存</button>
          <button id="restart" class="ghost">最初に戻る</button>
        </div>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
